{{ $lang := .Page.Language.Lang }}
{{ $prefix := cond (eq $lang "en") "/en" "" }}
{{ $toggle := cond (eq $lang "en") "/" "/en/" }}

<div class="cc-fab" aria-label="Quick actions">
  <!-- Navigation & Quick Access -->
  <a class="cc-fab__btn" href="#about" title="Top"><i class="fas fa-arrow-up" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="{{ printf "%s/project/" $prefix }}" title="Projects"><i class="fas fa-layer-group" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="{{ printf "%s/experience/" $prefix }}" title="Experience"><i class="fas fa-briefcase" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="{{ printf "%s/contact/" $prefix }}" title="Contact"><i class="fas fa-map-marker-alt" aria-hidden="true"></i></a>
  
  <!-- Documents & Files -->
  <a class="cc-fab__btn" href="/uploads/resume.pdf" target="_blank" title="Resume PDF"><i class="fas fa-file-pdf" aria-hidden="true"></i></a>
  <a class="cc-fab__btn cc-fab__print" onclick="window.print()" title="Print Page"><i class="fas fa-print" aria-hidden="true"></i></a>
  <a class="cc-fab__btn cc-fab__share" onclick="navigator.share ? navigator.share({title: document.title, url: window.location.href}) : copyToClipboard(window.location.href)" title="Share"><i class="fas fa-share-alt" aria-hidden="true"></i></a>
  
  <!-- Communication -->
  <a class="cc-fab__btn" href="mailto:isy0110@jbnu.ac.kr" title="Email"><i class="fas fa-envelope" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="tel:+82-10-0000-0000" title="Phone" style="display:none;"><i class="fas fa-phone" aria-hidden="true"></i></a>
  
  <!-- Social Media -->
  <a class="cc-fab__btn" href="https://github.com/abc202313746" target="_blank" rel="noopener" title="GitHub"><i class="fab fa-github" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="https://www.instagram.com/insookyoung/" target="_blank" rel="noopener" title="Instagram"><i class="fab fa-instagram" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="https://www.linkedin.com/in/sookyoung-in" target="_blank" rel="noopener" title="LinkedIn"><i class="fab fa-linkedin-in" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="https://www.youtube.com" target="_blank" rel="noopener" title="YouTube"><i class="fab fa-youtube" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="https://www.facebook.com" target="_blank" rel="noopener" title="Facebook"><i class="fab fa-facebook-f" aria-hidden="true"></i></a>
  
  <!-- Utilities -->
  <a class="cc-fab__btn cc-fab__theme" onclick="toggleTheme()" title="Toggle Theme"><i class="fas fa-moon" aria-hidden="true"></i></a>
  <a class="cc-fab__btn cc-fab__search" onclick="toggleSearch()" title="Search"><i class="fas fa-search" aria-hidden="true"></i></a>
  <a class="cc-fab__btn" href="{{ $toggle }}" title="Language"><i class="fas fa-globe" aria-hidden="true"></i></a>
</div>

<script>
// Copy to clipboard function
function copyToClipboard(text) {
  navigator.clipboard.writeText(text).then(function() {
    // Show toast notification
    showToast('Link copied to clipboard!');
  });
}

// Show toast notification
function showToast(message) {
  const toast = document.createElement('div');
  toast.className = 'cc-toast';
  toast.textContent = message;
  toast.style.cssText = `
    position: fixed;
    bottom: 100px;
    right: 20px;
    background: var(--bs-primary, #7c4dff);
    color: white;
    padding: 12px 20px;
    border-radius: 25px;
    font-size: 14px;
    z-index: 10000;
    opacity: 0;
    transition: opacity 0.3s ease;
    box-shadow: 0 4px 12px rgba(124, 77, 255, 0.3);
  `;
  document.body.appendChild(toast);
  
  // Animate in
  setTimeout(() => toast.style.opacity = '1', 100);
  
  // Remove after 3 seconds
  setTimeout(() => {
    toast.style.opacity = '0';
    setTimeout(() => document.body.removeChild(toast), 300);
  }, 3000);
}

// Toggle theme function
function toggleTheme() {
  const body = document.body;
  const currentMode = body.getAttribute('data-mode');
  const newMode = currentMode === 'dark' ? 'light' : 'dark';
  body.setAttribute('data-mode', newMode);
  localStorage.setItem('theme', newMode);
  
  // Update icon
  const themeIcon = document.querySelector('.cc-fab__theme i');
  themeIcon.className = newMode === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
  
  showToast(`Switched to ${newMode} mode`);
}

// Toggle search function
function toggleSearch() {
  const searchInput = document.querySelector('input[type="search"]');
  if (searchInput) {
    searchInput.focus();
    searchInput.scrollIntoView({ behavior: 'smooth', block: 'center' });
    showToast('Search activated');
  } else {
    showToast('Search not available');
  }
}

// Initialize theme icon on page load
document.addEventListener('DOMContentLoaded', function() {
  const currentMode = document.body.getAttribute('data-mode') || 'light';
  const themeIcon = document.querySelector('.cc-fab__theme i');
  if (themeIcon) {
    themeIcon.className = currentMode === 'dark' ? 'fas fa-sun' : 'fas fa-moon';
  }
});
</script>
